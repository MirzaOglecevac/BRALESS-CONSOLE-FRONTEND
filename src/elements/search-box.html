
<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">

<dom-module id="search-box">
    <template>
        <style include="shared-styles">


            #container {
                display: flex;
                flex-direction: row;
            }


            #input {
                border: none;
                outline: none;
                padding: 5px;
                width: 190px;
                border-top-left-radius: 5px;
                border-bottom-left-radius: 5px;
                font-family: "sans-serif", "Roboto Mono";
                font-size: 14px;
                text-indent: 5px;
            }


            #searchIcon {
                background-color: #B200B7;
                padding: 5px;
                border-top-right-radius: 5px;
                border-bottom-right-radius: 5px;
                width: 25px;
                cursor: pointer;
            }


            #searchIcon > iron-icon {
                --iron-icon-fill-color: #fff;
            }


        </style>


        <div id="container">
            <input id="input" type="text" value="{{searchValue}}" on-keydown="_ifEnter"/>
            <div id="searchIcon" on-click="_search">
                <iron-icon icon="search"></iron-icon>
            </div>
        </div>


    </template>

    <script>
        class SearchBox extends Polymer.Element {
            static get is() { return 'search-box'; }

            static get properties() {
                return {

                };
            }


            ready(){
                super.ready();
            }


            _search(){
                var search = this.$.input.value;
                this.dispatchEvent(new CustomEvent('search-value', {
                    bubbles: true, composed: true, detail: {
                        value: search
                    }
                }));
            }


            _ifEnter(event){
                if(event.keyCode === 13){
                    this._search();
                }
            }

        }

        window.customElements.define(SearchBox.is, SearchBox);
    </script>
</dom-module>
